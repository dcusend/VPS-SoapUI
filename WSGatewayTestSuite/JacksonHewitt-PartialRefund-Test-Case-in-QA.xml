<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="1ced28c1-cdf6-4e28-a9fd-84605d0d8408" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="JacksonHewitt-PartialRefund Test Case in QA" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" zephyrTestName="" zephyrTestId="" xmlns:con="http://eviware.com/soapui/config">
  <con:settings>
    <con:setting id="1ced28c1-cdf6-4e28-a9fd-84605d0d8408fileName">JacksonHewitt-PartialRefund-Test-Case-in-QA</con:setting>
  </con:settings>
  <con:savedRecentRuns>1</con:savedRecentRuns>
  <con:testStep type="request" id="4f4ca41f-f9c4-4045-b7d2-5d8df5c07a77" name="SubmitWalletInformation-QA">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PPIServiceFacadeSoap</con:interface>
      <con:operation>SubmitWalletInformation</con:operation>
      <con:request name="SubmitWalletInformation-QA" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="8069539d-f842-40ba-aa58-e15e3455ca98" defaultOutgoingWss="" defaultIncomingWss="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>https://qa.velocitypayment.com:443/vgateway/VGatewayWebService</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ws="https://www.velocitypayment.com/ws" xmlns:ppi="http://www.ePayments.com/PPI" xmlns:ppip="http://www.ePayments.com/PPIPayment">
   <soapenv:Header/>
   <soapenv:Body>
      <ws:SubmitWalletInformation>
         <!--Optional:-->
         <ws:token>
            <!--Optional:-->
            <ppi:UserName>user5621</ppi:UserName>
            
            <ppi:Password>pwd5621</ppi:Password><ppi:PPITransactionRequestId>11111111</ppi:PPITransactionRequestId>
            <ppi:PPIBusinessEntityIdentifierToken>BEID-Token562</ppi:PPIBusinessEntityIdentifierToken>
            <!--Optional:-->
            <!--Optional:-->
            <!--Optional:-->
         </ws:token>
         <!--Optional:-->
         <ws:walletRequest>
            <ppi:Action>AddToken</ppi:Action>
            <!--Optional:-->
            <!--Optional:-->
            <!--Optional:-->
            <ppi:WalletID>${DataGen-RandomNumber#RandomNumber}</ppi:WalletID>
            <ppi:Vehicle>
               
               <ppip:AccountType/>
               <ppip:CheckType/>
               <ppip:CheckNumberPosition/>
               <ppip:CVV2Code>123</ppip:CVV2Code><ppip:ExpirationDate>12/25</ppip:ExpirationDate><ppip:PaymentVehicleNumber>4111111111111111</ppip:PaymentVehicleNumber>
               <ppip:PaymentMethodCategory>CreditCard</ppip:PaymentMethodCategory>
               <ppip:EnforcePinDebitValidation>false</ppip:EnforcePinDebitValidation>
            </ppi:Vehicle>
            <ppi:Payor>
               <ppi:AddressLine1>2311 main road</ppi:AddressLine1>
               <ppi:PhoneNumber>7038945000</ppi:PhoneNumber>
               <ppi:FirstName>Moles</ppi:FirstName>
               <ppi:LastName>Jagans</ppi:LastName>
               <ppi:ZipCode>22201</ppi:ZipCode>
               <ppi:IsBusinessName/>
            </ppi:Payor>
            <ppi:ClientReferenceNumber>${DataGen-RandomNumber#RandomNumber}</ppi:ClientReferenceNumber>
            <!--Optional:-->
            <!--Optional:-->
            <!--Optional:-->
         </ws:walletRequest>
      </ws:SubmitWalletInformation>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="8d414cc5-3acb-4cb0-aae9-9cc6539e8d58" name="SOAP Response"/>
        <con:assertion type="XPath Match" id="40b2c079-a903-4abd-8b24-6d50afa5a390" name="Match content of [ns0:ResultCode]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:SubmitWalletInformationResponse[1]/ns1:SubmitWalletInformationResult[1]/ns0:ResultCode[1]/text()</path>
            <content>50054</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" id="a2ce08e0-a96a-4657-adf9-3808f09d1a9a" name="Match content of [ns0:ResultText]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:SubmitWalletInformationResponse[1]/ns1:SubmitWalletInformationResult[1]/ns0:ResultText[1]/text()</path>
            <content>Payment Account Token added sucessfully to wallet</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" id="6c26ecd7-88f0-46d8-8e63-2263e5fa74bd" name="Check for existence of [ns0:PaymentAccountToken]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
exists( //ns1:SubmitWalletInformationResponse/ns1:SubmitWalletInformationResult/ns0:PaymentAccountToken)</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" id="6a6abc72-3c1a-41ea-89f5-a10e80501e3e" name="Match content of [ns0:Success]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:SubmitWalletInformationResponse[1]/ns1:SubmitWalletInformationResult[1]/ns0:Success[1]/text()</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:wsaConfig mustUnderstand="NONE" version="200508" action="https://www.velocitypayment.com/ws/SubmitWalletInformation"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="340ce76f-4c26-4168-ad5e-9f459d02a685">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="96f8b732-87ef-4c47-8acd-14bd84b2cb67" name="GetWalletInformation-QA">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PPIServiceFacadeSoap</con:interface>
      <con:operation>GetWalletInformation</con:operation>
      <con:request name="GetWalletInformation-QA" outgoingWss="" incomingWss="" timeout="" sslKeystore="" useWsAddressing="false" useWsReliableMessaging="false" wssPasswordType="" id="24ea61a1-41f8-41f5-af4c-8894b2dd46fc" defaultOutgoingWss="" defaultIncomingWss="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>https://qa.velocitypayment.com:443/vgateway/VGatewayWebService</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ws="https://www.velocitypayment.com/ws" xmlns:ppi="http://www.ePayments.com/PPI">
   <soapenv:Header/>
   <soapenv:Body>
      <ws:GetWalletInformation>
         <!--Optional:-->
         <ws:token>
            <!--Optional:-->
            <!--Optional:-->
            <!--Optional:-->
            <!--Optional:-->
            <ppi:UserName>user5621</ppi:UserName>
            <ppi:Password>pwd5621</ppi:Password>
            <ppi:PPITransactionRequestId>11111111</ppi:PPITransactionRequestId>
            <ppi:PPIBusinessEntityIdentifierToken>BEID-Token562</ppi:PPIBusinessEntityIdentifierToken>
         </ws:token>
         <ws:walletID>${DataGen-RandomNumber#RandomNumber}</ws:walletID>
         <!--Optional:-->
      </ws:GetWalletInformation>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="b6f29816-5711-4e74-82f5-49dd828f7121" name="SOAP Response"/>
        <con:assertion type="XPath Match" id="1fb1a1b0-6f3f-4d16-8377-e8f0e4e2146c" name="Match content of [ns0:ResultCode]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:GetWalletInformationResponse[1]/ns1:GetWalletInformationResult[1]/ns0:ResultCode[1]/text()</path>
            <content>50062</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" id="93edde95-3196-495d-999b-2e1b559b5421" name="Match content of [ns0:ResultText]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:GetWalletInformationResponse[1]/ns1:GetWalletInformationResult[1]/ns0:ResultText[1]/text()</path>
            <content>Wallet information retrieved successfully</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" id="65c9bc1a-e625-46ca-9534-a3e37313cf26" name="Match content of [ns0:Success]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:GetWalletInformationResponse[1]/ns1:GetWalletInformationResult[1]/ns0:Success[1]/text()</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:wsaConfig mustUnderstand="NONE" version="200508" action="https://www.velocitypayment.com/ws/GetWalletInformation"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="340ce76f-4c26-4168-ad5e-9f459d02a685">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="c5138a0d-7e8f-471e-a6d6-d5be6eeaed89" name="SubmitPPIPaymentUsingWallet-QA">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PPIServiceFacadeSoap</con:interface>
      <con:operation>SubmitPPIPaymentUsingWallet</con:operation>
      <con:request name="SubmitPPIPaymentUsingWallet-QA" id="5ea1ab63-dae7-443b-a34f-b570404595cb" defaultOutgoingWss="" defaultIncomingWss="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>https://qa.velocitypayment.com:443/vgateway/VGatewayWebService</con:endpoint>
        <con:request><![CDATA[<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/">
   <s:Body>
      <SubmitPPIPaymentUsingWallet xmlns="https://www.velocitypayment.com/ws">
         <token>
            <UserName xmlns="http://www.ePayments.com/PPI">user5621</UserName>
            <Password xmlns="http://www.ePayments.com/PPI">pwd5621</Password>
            <PPITransactionRequestId xmlns="http://www.ePayments.com/PPI">123456710</PPITransactionRequestId>
            <PPIBusinessEntityIdentifierToken xmlns="http://www.ePayments.com/PPI">BEID-Token562</PPIBusinessEntityIdentifierToken>
         </token>
         <ppiWalletPayment>
            <AdditionalInfo xmlns="http://www.ePayments.com/PPI">
               <Fees>
                  <ppip:FeeType xmlns:ppip="http://www.ePayments.com/PPIPayment">Customer</ppip:FeeType>
                  <ppip:Amount xmlns:ppip="http://www.ePayments.com/PPIPayment">0</ppip:Amount>
               </Fees>
               <PaymentSegment>
                  <Amount xmlns="http://www.ePayments.com/PPIPayment">20.00</Amount>
                  <SegmentType xmlns="http://www.ePayments.com/PPIPayment">Enter Amount</SegmentType>
               </PaymentSegment>
               <PaymentType>Regular</PaymentType>
               <ProcessDate>${DataGenDateTest#TodayDate}</ProcessDate>
            </AdditionalInfo>
            <ClientAccountNumber xmlns="http://www.ePayments.com/PPI">${DataGen-RandomNumber#RandomNumber}</ClientAccountNumber>
            <PreAuthorizeOnly xmlns="http://www.ePayments.com/PPI">true</PreAuthorizeOnly>
            <PaymentSource xmlns="http://www.ePayments.com/PPI"/>
            <WalletID xmlns="http://www.ePayments.com/PPI">${DataGen-RandomNumber#RandomNumber}</WalletID>
            <PaymentAccountToken xmlns="http://www.ePayments.com/PPI">${GetWalletInformation-QA#Response#declare namespace ns2='http://tempuri.org/'; declare namespace ns0='http://www.ePayments.com/PPI'; declare namespace ns1='https://www.velocitypayment.com/ws'; //ns1:GetWalletInformationResponse[1]/ns1:GetWalletInformationResult[1]/ns0:Wallet[1]/ns0:PaymentAccount[1]/ns2:PaymentAccountToken[1]}</PaymentAccountToken>
            <ppi:ScheduledIndicator xmlns:ppi="http://www.ePayments.com/PPI"/>
            <ppi:TransactionInitIndicator xmlns:ppi="http://www.ePayments.com/PPI"/>
         </ppiWalletPayment>
      </SubmitPPIPaymentUsingWallet>
   </s:Body>
</s:Envelope>]]></con:request>
        <con:assertion type="XPath Match" id="c01e1269-1f41-4601-86ba-e0b97ec60e81" name="Match content of [ns0:ResultCode]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:SubmitPPIPaymentUsingWalletResponse[1]/ns1:SubmitPPIPaymentUsingWalletResult[1]/ns0:ResultCode[1]/text()</path>
            <content>50029</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" id="2280fa8c-ce40-4537-af63-80155bd2b289" name="Match content of [ns0:ResultText]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:SubmitPPIPaymentUsingWalletResponse[1]/ns1:SubmitPPIPaymentUsingWalletResult[1]/ns0:ResultText[1]/text()</path>
            <content>Payment PreAuthorized</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" id="017b19bb-f271-443e-bb0f-e3db92b17966" name="Match content of [ns0:Success]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:SubmitPPIPaymentUsingWalletResponse[1]/ns1:SubmitPPIPaymentUsingWalletResult[1]/ns0:Success[1]/text()</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig action="https://www.velocitypayment.com/ws/SubmitPPIPaymentUsingWallet" mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="340ce76f-4c26-4168-ad5e-9f459d02a685">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="cdd08552-2198-47de-afbf-421a42adbc77" name="GetPPIPaymentFee">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PPIServiceFacadeSoap</con:interface>
      <con:operation>GetPPIPaymentFee</con:operation>
      <con:request name="GetPPIPaymentFee" id="44efaed4-aaf3-4890-9bf7-16c46d450652" defaultOutgoingWss="" defaultIncomingWss="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>https://demo.velocitypayment.com:443/vgateway/VGatewayWebService</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ws="https://www.velocitypayment.com/ws" xmlns:ppi="http://www.ePayments.com/PPI">
   <soapenv:Header/>
   <soapenv:Body>
      <ws:GetPPIPaymentFee>
         <!--Optional:-->
         <ws:token>
            <!--Optional:-->
            <!--Optional:-->
            <!--Optional:-->
            
            <!--Optional:-->
            
            <ppi:UserName>user5621</ppi:UserName><ppi:Password>pwd5621</ppi:Password><ppi:PPITransactionRequestId>11111111</ppi:PPITransactionRequestId><ppi:PPIBusinessEntityIdentifierToken>BEID-Token562</ppi:PPIBusinessEntityIdentifierToken>
            
         </ws:token>
         <ws:paymentAmount>20.00</ws:paymentAmount>
         <ws:method>CreditCard</ws:method>
         <!--Optional:-->
      </ws:GetPPIPaymentFee>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="XPath Match" id="9e8c67f0-1763-4444-83df-2dc5cfd4b6e5" name="Match content of [ns0:PPIFeeValue]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:GetPPIPaymentFeeResponse[1]/ns1:GetPPIPaymentFeeResult[1]/ns0:PPIFeeValue[1]/text()</path>
            <content>0.0</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:wsaConfig action="https://www.velocitypayment.com/ws/GetPPIPaymentFee" mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="340ce76f-4c26-4168-ad5e-9f459d02a685">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="d234be49-675d-4481-9834-fe66ca771d5d" name="GetVelocityFee">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PPIServiceFacadeSoap</con:interface>
      <con:operation>GetVelocityFee</con:operation>
      <con:request name="GetVelocityFee" id="923111e8-1464-4321-aac7-077a86a8b4f8" defaultOutgoingWss="" defaultIncomingWss="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>https://qa.velocitypayment.com:443/vgateway/VGatewayWebService</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ws="https://www.velocitypayment.com/ws" xmlns:ppi="http://www.ePayments.com/PPI">
   <soapenv:Header/>
   <soapenv:Body>
      <ws:GetVelocityFee>
         <!--Optional:-->
         <ws:token>
            <!--Optional:-->
            <!--Optional:-->
            <!--Optional:-->
            <!--Optional:-->
            
            
            <ppi:UserName>user5621</ppi:UserName><ppi:Password>pwd5621</ppi:Password><ppi:PPITransactionRequestId>sdf34tegdfg456rgdfg</ppi:PPITransactionRequestId>
            <ppi:PPIBusinessEntityIdentifierToken>BEID-Token562</ppi:PPIBusinessEntityIdentifierToken>
         </ws:token>
         <ws:amount>10</ws:amount>
         <ws:paymentType>1</ws:paymentType>
         <ws:accountNumber>4111111111111111</ws:accountNumber>
         <!--Optional:-->
      </ws:GetVelocityFee>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="XPath Match" id="0dae7f67-34f4-4991-ab0e-ff1d7845f716" name="Match content of [ns0:PPIFeeValue]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:GetVelocityFeeResponse[1]/ns1:GetVelocityFeeResult[1]/ns0:PPIFeeValue[1]/text()</path>
            <content>5.00</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" id="c8d5f42b-dd62-4cfa-bc23-704cdb5ccfc9" name="Match content of [ns0:TenderType]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:GetVelocityFeeResponse[1]/ns1:GetVelocityFeeResult[1]/ns0:TenderType[1]/text()</path>
            <content>VI</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" id="eec263bc-dbaf-4f9e-9a54-4fe0aac0c5b8" name="Match content of [ns0:Success]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:GetVelocityFeeResponse[1]/ns1:GetVelocityFeeResult[1]/ns0:Success[1]/text()</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:wsaConfig action="https://www.velocitypayment.com/ws/GetVelocityFee" mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="340ce76f-4c26-4168-ad5e-9f459d02a685">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="58f04f64-7577-45ea-a95f-ba259795ffa9" name="CapturePayment-QA">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PPIServiceFacadeSoap</con:interface>
      <con:operation>CapturePayment</con:operation>
      <con:request name="CapturePayment-QA" id="8b925bfb-5bb2-4184-beac-053d99cd7a60" defaultOutgoingWss="" defaultIncomingWss="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>https://qa.velocitypayment.com:443/vgateway/VGatewayWebService</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ws="https://www.velocitypayment.com/ws" xmlns:ppi="http://www.ePayments.com/PPI">
   <soapenv:Header/>
   <soapenv:Body>
      <ws:CapturePayment>
         <!--Optional:-->
         <ws:token>
            <!--Optional:-->
            
            <!--Optional:-->
            
            <!--Optional:-->
            <ppi:UserName>user5621</ppi:UserName><ppi:Password>pwd5621</ppi:Password><ppi:PPITransactionRequestId>sdfs345sdfsdfsdfs</ppi:PPITransactionRequestId><ppi:PPIBusinessEntityIdentifierToken>BEID-Token562</ppi:PPIBusinessEntityIdentifierToken>
            <!--Optional:-->
            
         </ws:token><ws:paymentId>${SubmitPPIPaymentUsingWallet-QA#Response#declare namespace ns0='http://www.ePayments.com/PPI'; declare namespace ns1='https://www.velocitypayment.com/ws'; //ns1:SubmitPPIPaymentUsingWalletResponse[1]/ns1:SubmitPPIPaymentUsingWalletResult[1]/ns0:PaymentID[1]}</ws:paymentId><ws:amount>20.00</ws:amount>
         <!--Optional:-->
         
         
      </ws:CapturePayment>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="XPath Match" id="b4625499-5d29-46db-b56e-995f83138187" name="Match content of [ns0:ResultCode]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:CapturePaymentResponse[1]/ns1:CapturePaymentResult[1]/ns0:ResultCode[1]/text()</path>
            <content>50020</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" id="2ca3cd4d-9330-49a2-b0e0-c973ca6a2550" name="Match content of [ns0:ResultText]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:CapturePaymentResponse[1]/ns1:CapturePaymentResult[1]/ns0:ResultText[1]/text()</path>
            <content>Payment captured successfully</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" id="1c8497a7-d21d-4553-bcd6-19bd07798ce0" name="Match content of [ns0:Success]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:CapturePaymentResponse[1]/ns1:CapturePaymentResult[1]/ns0:Success[1]/text()</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig action="https://www.velocitypayment.com/ws/CapturePayment" mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="340ce76f-4c26-4168-ad5e-9f459d02a685">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="775e3c4e-4348-49c6-8583-5826be16a496" name="FirstPartialRefundPPIPayment-QA">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PPIServiceFacadeSoap</con:interface>
      <con:operation>RefundPPIPayment</con:operation>
      <con:request name="FirstPartialRefundPPIPayment-QA" id="8b40194f-c509-4dec-8ea0-ba5bc3afbad0" defaultOutgoingWss="" defaultIncomingWss="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>https://qa.velocitypayment.com:443/vgateway/VGatewayWebService</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ws="https://www.velocitypayment.com/ws" xmlns:ppi="http://www.ePayments.com/PPI" xmlns:ppip="http://www.ePayments.com/PPIPayment">
   <soapenv:Header/>
   <soapenv:Body>
      <ws:RefundPPIPayment>
         <!--Optional:-->
         <ws:token>
            <!--Optional:-->
            <!--Optional:-->
            
            <!--Optional:-->
            <!--Optional:-->
            
            
            
         <ppi:UserName>user5621</ppi:UserName><ppi:Password>pwd5621</ppi:Password><ppi:PPITransactionRequestId>1111222222</ppi:PPITransactionRequestId><ppi:PPIBusinessEntityIdentifierToken>BEID-Token562</ppi:PPIBusinessEntityIdentifierToken></ws:token>
         <!--Optional:-->
         <!--Optional:-->
         <!--Optional:-->
         
         <ws:paymentId>${CapturePayment-QA#Response#declare namespace ns0='http://www.ePayments.com/PPI'; declare namespace ns1='https://www.velocitypayment.com/ws'; //ns1:CapturePaymentResponse[1]/ns1:CapturePaymentResult[1]/ns0:PaymentID[1]}</ws:paymentId><ws:code>A2</ws:code>
         <ws:comments>This is a comment</ws:comments>
         <ws:isRefundMemo>false</ws:isRefundMemo>
         <ws:isDiffpaymentAccount>false</ws:isDiffpaymentAccount><ws:ppiPayment><ppi:AdditionalInfo><ppi:Fees><ppip:FeeType>Customer</ppip:FeeType><ppip:Amount>0</ppip:Amount></ppi:Fees><ppi:PaymentSegment><ppip:Amount>15.00</ppip:Amount><ppip:SegmentType>Enter Amount</ppip:SegmentType></ppi:PaymentSegment><ppi:PaymentType>Regular</ppi:PaymentType><ppi:ProcessDate>${DataGenDateTest#TodayDate}</ppi:ProcessDate></ppi:AdditionalInfo><ppi:ClientAccountNumber>${DataGen-RandomNumber#RandomNumber}</ppi:ClientAccountNumber><ppi:PreAuthorizeOnly>false</ppi:PreAuthorizeOnly><ppi:PaymentSource/></ws:ppiPayment>
         <!--Optional:-->
      </ws:RefundPPIPayment>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="XPath Match" id="1e245a95-27bf-4a42-b9c2-4edca34c8cab" name="Match content of [ns0:ResultCode]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:RefundPPIPaymentResponse[1]/ns1:RefundPPIPaymentResult[1]/ns0:ResultCode[1]/text()</path>
            <content>50018</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" id="6bad88da-6338-4549-af7e-35c3124e56ec" name="Match content of [ns0:ResultText]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:RefundPPIPaymentResponse[1]/ns1:RefundPPIPaymentResult[1]/ns0:ResultText[1]/text()</path>
            <content>Payment Approved</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" id="3c45f0e4-6d65-4b31-bf71-c0415e28a0b8" name="Match content of [ns0:Success]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:RefundPPIPaymentResponse[1]/ns1:RefundPPIPaymentResult[1]/ns0:Success[1]/text()</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:wsaConfig action="https://www.velocitypayment.com/ws/RefundPPIPayment" mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="340ce76f-4c26-4168-ad5e-9f459d02a685">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="974ce9c7-5f24-4f40-baa1-bf1d9ba17dec" name="SecondPartialRefundPPIPayment-QA">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PPIServiceFacadeSoap</con:interface>
      <con:operation>RefundPPIPayment</con:operation>
      <con:request name="SecondPartialRefundPPIPayment-QA" id="8b40194f-c509-4dec-8ea0-ba5bc3afbad0" defaultOutgoingWss="" defaultIncomingWss="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>https://qa.velocitypayment.com:443/vgateway/VGatewayWebService</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ws="https://www.velocitypayment.com/ws" xmlns:ppi="http://www.ePayments.com/PPI" xmlns:ppip="http://www.ePayments.com/PPIPayment">
   <soapenv:Header/>
   <soapenv:Body>
      <ws:RefundPPIPayment>
         <!--Optional:-->
         <ws:token>
            <!--Optional:-->
            <!--Optional:-->
            
            <!--Optional:-->
            <!--Optional:-->
            
            
            
         <ppi:UserName>user5621</ppi:UserName><ppi:Password>pwd5621</ppi:Password><ppi:PPITransactionRequestId>1111222222</ppi:PPITransactionRequestId><ppi:PPIBusinessEntityIdentifierToken>BEID-Token562</ppi:PPIBusinessEntityIdentifierToken></ws:token>
         <!--Optional:-->
         <!--Optional:-->
         <!--Optional:-->
         
         <ws:paymentId>${CapturePayment-QA#Response#declare namespace ns0='http://www.ePayments.com/PPI'; declare namespace ns1='https://www.velocitypayment.com/ws'; //ns1:CapturePaymentResponse[1]/ns1:CapturePaymentResult[1]/ns0:PaymentID[1]}</ws:paymentId><ws:code>A2</ws:code>
         <ws:comments>This is a comment</ws:comments>
         <ws:isRefundMemo>false</ws:isRefundMemo>
         <ws:isDiffpaymentAccount>false</ws:isDiffpaymentAccount><ws:ppiPayment><ppi:AdditionalInfo><ppi:Fees><ppip:FeeType>Customer</ppip:FeeType><ppip:Amount>0</ppip:Amount></ppi:Fees><ppi:PaymentSegment><ppip:Amount>5.00</ppip:Amount><ppip:SegmentType>Enter Amount</ppip:SegmentType></ppi:PaymentSegment><ppi:PaymentType>Regular</ppi:PaymentType><ppi:ProcessDate>${DataGenDateTest#TodayDate}</ppi:ProcessDate></ppi:AdditionalInfo><ppi:ClientAccountNumber>${DataGen-RandomNumber#RandomNumber}</ppi:ClientAccountNumber><ppi:PreAuthorizeOnly>false</ppi:PreAuthorizeOnly><ppi:PaymentSource/></ws:ppiPayment>
         <!--Optional:-->
      </ws:RefundPPIPayment>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="XPath Match" id="1e245a95-27bf-4a42-b9c2-4edca34c8cab" name="Match content of [ns0:ResultCode]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:RefundPPIPaymentResponse[1]/ns1:RefundPPIPaymentResult[1]/ns0:ResultCode[1]/text()</path>
            <content>50018</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" id="6bad88da-6338-4549-af7e-35c3124e56ec" name="Match content of [ns0:ResultText]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:RefundPPIPaymentResponse[1]/ns1:RefundPPIPaymentResult[1]/ns0:ResultText[1]/text()</path>
            <content>Payment Approved</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" id="3c45f0e4-6d65-4b31-bf71-c0415e28a0b8" name="Match content of [ns0:Success]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:RefundPPIPaymentResponse[1]/ns1:RefundPPIPaymentResult[1]/ns0:Success[1]/text()</path>
            <content>true</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:wsaConfig action="https://www.velocitypayment.com/ws/RefundPPIPayment" mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
        <con:environmentSpec>
          <con:entry environmentId="340ce76f-4c26-4168-ad5e-9f459d02a685">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="datagen" name="DataGen-RandomNumber" id="cb5ac977-16ae-4455-ad94-5e1a00827e3d">
    <con:settings/>
    <con:config xsi:type="con:DataGeneratorStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:property type="Number">
        <con:configuration>
          <start>10000</start>
          <end>100000000000</end>
          <step/>
          <pattern/>
          <random>true</random>
          <persist>false</persist>
        </con:configuration>
        <con:name>RandomNumber</con:name>
        <con:mode>STEP</con:mode>
        <con:shared>false</con:shared>
      </con:property>
    </con:config>
  </con:testStep>
  <con:testStep type="datagen" name="DataGenDateTest" id="fee41e00-2818-4a4e-ad64-2d6937bb1306">
    <con:settings/>
    <con:config xsi:type="con:DataGeneratorStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:property type="Script">
        <con:configuration>
          <script>def sdf = new java.text.SimpleDateFormat("yyyy-MM-dd")
return sdf.format(new Date()) + "T08:59:00.000-04:00"</script>
        </con:configuration>
        <con:name>TodayDate</con:name>
        <con:mode>STEP</con:mode>
        <con:shared>false</con:shared>
      </con:property>
    </con:config>
  </con:testStep>
  <con:properties/>
  <con:reportParameters/>
  <con:breakPoints>
    <con:testStepId>39047de8-bf9e-4fb2-9e0f-36bc86cc9d09</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>99f1f2dc-07e1-4cdf-96af-68169998fc11</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>974ce9c7-5f24-4f40-baa1-bf1d9ba17dec</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:environmentSpec>
    <con:entry environmentId="340ce76f-4c26-4168-ad5e-9f459d02a685">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
  </con:environmentSpec>
</con:testCase>
